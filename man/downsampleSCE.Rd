% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/downsampleSCE.R
\name{downsampleSCE}
\alias{downsampleSCE}
\title{Downsample SingleCellExperiment Objects}
\usage{
downsampleSCE(sce, max_cells = 2500, seed = NULL)
}
\arguments{
\item{sce}{A \code{\linkS4class{SingleCellExperiment}} object to potentially downsample.
Must contain PCA in reducedDims. May also contain UMAP, TSNE, or other reducedDims.}

\item{max_cells}{Maximum number of cells to retain. If the object has fewer cells,
it is returned unchanged. Default is 2500.}

\item{seed}{Random seed for reproducible downsampling. If NULL, no seed is set.
Default is NULL.}
}
\value{
A \code{\linkS4class{SingleCellExperiment}} object with at most max_cells cells.
If downsampling occurred, all reducedDims (PCA, UMAP, TSNE, etc.) and their
attributes are preserved.
}
\description{
This internal function downsamples \code{\linkS4class{SingleCellExperiment}} objects while preserving
all reducedDims information, including PCA, UMAP, t-SNE, and any other dimensionality
reduction results with their associated attributes.
}
\details{
The function performs random downsampling without replacement when the number of
cells exceeds the specified threshold. All reducedDims are preserved by subsetting
the cell coordinates and manually restoring associated attributes that would
otherwise be lost during subsetting operations.

Supported reducedDims and their preserved attributes:
\itemize{
  \item PCA: rotation, percentVar, varExplained
  \item UMAP: any custom attributes from uwot or other UMAP implementations
  \item TSNE: any custom attributes from Rtsne or other t-SNE implementations
  \item Any other reducedDim: all associated attributes
}
}
\author{
Anthony Christidis, \email{anthony-alexander_christidis@hms.harvard.edu}
}
\keyword{internal}
